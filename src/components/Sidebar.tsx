"use client";

import { useState } from "react";

export default function Sidebar() {
    const [isHovered, setIsHovered] = useState(false);

    const menuItems = [
        {
            icon: (
                <svg width="21" height="23" viewBox="0 0 21 23" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.0781 0.625V4.375H10.9219V0.625H10.0781ZM11.7188 0.625V3.625L15.4688 2.125L11.7188 0.625ZM10.5 5.125C8.25 7.375 3.75 10.375 1.5 11.125C1.5 14.125 0.75 20.875 0 22.375H7.5C8.25 21.625 10.5 15.625 10.5 13.375C10.5 15.625 12.75 21.625 13.5 22.375H21C20.25 20.875 19.5 14.125 19.5 11.125C17.25 10.375 12.75 7.375 10.5 5.125ZM3.75 13.375H7.5V17.125H3.75V13.375Z" fill="currentColor" fillOpacity="1" />
                </svg>

            ),
            label: "Home",
            href: "#"
        },
        {
            icon: (
                <svg width="22" height="19" viewBox="0 0 22 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.06036 0.0294113C7.75567 0.0247238 7.30567 0.163942 7.32911 0.47613C7.34786 0.739567 9.04942 0.66738 9.05411 0.466286C9.06349 0.175193 8.39317 0.0322238 8.06036 0.0294113ZM4.56349 1.99769C3.81349 2.33238 3.01239 2.75426 2.41567 3.32613C0.839737 4.97144 -0.214951 7.44644 0.0372367 11.4168C0.798955 12.4714 3.6213 13.1371 5.10255 13.3714C7.49786 12.3402 14.7729 11.248 17.5291 12.3355C17.4635 10.0996 16.8822 7.38551 15.4151 5.21519C14.4963 3.53707 13.0619 2.30894 11.201 1.66019C9.06349 0.980505 6.65411 1.04613 4.56349 1.99769ZM5.9838 14.1871C7.43224 16.3433 8.89942 18.073 11.0791 18.9496C11.201 18.973 11.3885 19.0011 11.5385 18.8886C13.3572 17.5152 18.4197 17.3136 21.5041 18.1949C21.6729 18.2418 21.8369 17.9839 21.7432 17.8105C20.9275 16.3246 20.0135 14.8246 18.2276 13.5918C14.5338 12.0636 9.26974 13.2261 5.9838 14.1871Z" fill="currentColor" fillOpacity="1" />
                </svg>

            ),
            label: "Virtual Agents",
            href: "#features"
        },
        {
            icon: (
                <svg width="23" height="19" viewBox="0 0 23 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.4464 0.584961L9.88837 3.51062L10.3504 3.7636L14.4055 1.16063L21.2837 5.05669L17.3385 7.58902L17.5307 7.69421V8.01521L20.6208 6.03165L21.2694 6.39906L17.5306 8.79882V9.34834L20.5603 7.40363L21.2694 7.80535L17.5306 10.2051V10.7546L20.5603 8.80993L21.2694 9.21165L17.5306 11.6114V12.1609L22.2197 9.15108L21.0559 8.49193L22.2196 7.74488L21.0558 7.08563L22.2196 6.33859L21.1163 5.7136L22.2339 4.99618L14.4463 0.584961H14.4464ZM15.9026 2.68215C14.9165 3.17696 13.6029 3.26068 12.6781 2.8876L10.8701 4.04809L16.8187 7.30449L18.5335 6.20387C17.858 5.67062 17.9143 4.87496 18.6714 4.25059L15.9026 2.68215H15.9026ZM9.78122 4.4139L6.46772 6.57455L12.8244 10.2339L12.8868 10.1941C13.004 10.1186 13.1694 10.0117 13.3669 9.88407C13.7616 9.62893 14.2839 9.29063 14.8047 8.95313C15.5548 8.46704 15.9413 8.21626 16.3008 7.9831L9.78122 4.4139ZM15.1937 4.46874C15.1938 4.46874 15.1938 4.46874 15.1939 4.46874C15.3438 4.46966 15.4812 4.50179 15.5839 4.55991C15.6436 4.59374 15.6899 4.63547 15.7202 4.68271C15.7505 4.72995 15.7641 4.78178 15.7604 4.83524C15.7566 4.88871 15.7354 4.94275 15.6982 4.99429C15.6609 5.04583 15.6082 5.09386 15.5431 5.13563C15.478 5.1774 15.4018 5.2121 15.3188 5.23775C15.2359 5.26339 15.1477 5.27948 15.0595 5.2851C14.9713 5.29071 14.8846 5.28574 14.8045 5.27047C14.7245 5.2552 14.6525 5.22993 14.5928 5.1961C14.4722 5.12779 14.4087 5.02876 14.4164 4.92081C14.424 4.81286 14.5022 4.70483 14.6336 4.62048C14.7082 4.57256 14.7973 4.53403 14.8943 4.50775C14.9913 4.48148 15.0937 4.46814 15.1937 4.46874ZM4.95516 6.67726L0.0142969 9.84859L1.11759 10.4736L0 11.191L1.16381 11.8502L0 12.5973L1.16381 13.2565L0 14.0036L7.78758 18.4148L12.4893 15.3967V14.8473L7.82841 17.8391L0.95025 13.943L1.61845 13.5141L7.78758 17.0085L12.4893 13.9905V13.4411L7.82841 16.4328L0.95025 12.5367L1.61845 12.1078L7.78758 15.6022L12.4893 12.5842V12.0348L7.82841 15.0266L0.95025 11.1305L1.57228 10.7311L7.80197 14.2599L12.4893 11.251V11.0143L12.2325 10.8665L7.84261 13.6841L0.964641 9.78807L5.40652 6.93695L4.95511 6.67712L4.95516 6.67726ZM5.91422 7.22944L3.71484 8.64108C4.39031 9.17424 4.33406 9.9699 3.57694 10.5944L6.34575 12.1628C7.33186 11.6679 8.6453 11.5843 9.57014 11.9573L11.7248 10.5743L5.91412 7.2294L5.91422 7.22944ZM16.6869 8.73835C16.3098 8.9829 15.9773 9.19876 15.2636 9.66123C14.7427 9.99887 14.2203 10.3372 13.825 10.5928C13.6274 10.7205 13.4615 10.8276 13.3432 10.9036C13.339 10.9065 13.3373 10.9074 13.3332 10.9101V14.9378L16.6869 12.6836L16.6869 8.73835ZM7.26548 9.55773C7.41541 9.55866 7.55287 9.59083 7.65548 9.64899C7.77608 9.71731 7.83954 9.81633 7.83189 9.92428C7.82424 10.0322 7.74612 10.1403 7.6147 10.2246C7.48329 10.309 7.30936 10.3627 7.13118 10.374C6.953 10.3854 6.78515 10.3534 6.66455 10.2851C6.54395 10.2168 6.48049 10.1177 6.48814 10.0098C6.49579 9.90185 6.57391 9.79381 6.70533 9.70946C6.77996 9.66155 6.8691 9.62303 6.9661 9.59676C7.06309 9.5705 7.16544 9.55717 7.26548 9.55777V9.55773Z" fill="currentColor" fillOpacity="1" />
                </svg>

            ),
            label: "Start Farming",
            href: "#agents"
        },
        {
            icon: (
                <svg width="21" height="21" viewBox="0 0 21 21" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.2683 0.0701071C12.1478 0.0673414 11.0461 0.212982 10.0714 0.440654C10.1153 0.544756 10.1379 0.656593 10.138 0.769576C10.138 0.837498 10.1294 0.902091 10.1149 0.96406C12.2097 1.35626 14.5117 1.65519 16.2259 1.33381C16.3724 1.30639 16.4264 1.25365 16.4577 1.20256C16.489 1.15142 16.5043 1.08209 16.4737 0.975592C16.4126 0.762638 16.1274 0.416701 15.4284 0.27631C14.7248 0.134982 13.994 0.0719352 13.2683 0.0701071ZM2.9457 0.399732C1.96901 0.398795 1.04614 0.485513 0.264495 0.712904C0.129026 0.752326 0.0728702 0.812185 0.0346202 0.893748C-0.00362976 0.97531 -0.0158173 1.09217 0.0272139 1.23003C0.113276 1.5057 0.41937 1.85712 1.11139 1.96081C3.00275 2.24412 5.04771 1.88098 6.66781 1.28623C6.56276 1.13998 6.49587 0.967482 6.49587 0.769576C6.49587 0.74192 6.49737 0.714732 6.4999 0.688013C5.47821 0.546685 4.41003 0.431466 3.36729 0.40531C3.22679 0.401739 3.08625 0.399863 2.9457 0.399685V0.399732ZM8.31692 0.434232C7.99226 0.434232 7.70257 0.510873 7.52839 0.605185C7.3542 0.699404 7.33962 0.771123 7.33962 0.769576C7.33962 0.768029 7.35415 0.839654 7.52839 0.93392C7.70257 1.02819 7.99226 1.10487 8.31692 1.10487C8.64162 1.10487 8.93135 1.02819 9.10554 0.93392C9.27978 0.839654 9.29426 0.768029 9.29426 0.769576C9.29426 0.77117 9.27973 0.699451 9.10554 0.605185C8.93135 0.510873 8.64162 0.434232 8.31692 0.434232ZM7.87859 1.91628V4.15545C7.9797 4.15254 8.08062 4.1509 8.18089 4.15142C8.2797 4.14739 8.37748 4.14533 8.4746 4.14453L8.47723 4.13183C8.49626 4.13576 8.5152 4.14064 8.53418 4.14481C8.59709 4.14472 8.66009 4.14444 8.72234 4.14565V1.92078C8.59146 1.93859 8.45637 1.94862 8.31692 1.94862C8.16579 1.94862 8.0195 1.93719 7.87859 1.91628ZM8.43364 4.98814L8.40153 4.9887C6.04657 7.75461 6.10779 11.6645 7.37871 15.432C9.00654 15.0757 10.6768 14.8363 12.192 14.7301C13.0542 14.6697 13.8578 14.6471 14.5806 14.6738C14.5512 12.6591 13.7844 10.4285 12.6402 8.61504C11.4626 6.74872 9.88315 5.34856 8.43364 4.98814ZM7.22304 5.14151C6.67564 5.26414 6.13859 5.61767 5.62367 6.16967C4.97731 6.86244 4.39043 7.85197 3.92295 8.95329C3.00012 11.1275 2.55256 13.7549 2.7822 15.3237C3.55245 15.5729 4.49759 15.7673 5.46936 15.9112C5.82871 15.8087 6.18994 15.7129 6.55287 15.6239C5.34771 11.9995 5.18478 8.11451 7.22304 5.14151ZM10.9575 5.38503C11.8495 6.10667 12.6646 7.07244 13.3538 8.16476C14.5854 10.1166 15.412 12.4942 15.425 14.7322C15.8523 14.7778 16.2407 14.8467 16.5829 14.943C16.5146 12.962 15.9317 10.5194 14.7051 8.56808C13.8038 7.13417 12.5856 5.96586 10.9575 5.38503ZM4.93001 5.67875C4.25956 5.98812 3.62792 6.40901 3.07479 6.95656C1.66409 8.35301 0.722042 10.583 0.954167 14.0214C0.966402 14.2028 1.05495 14.3732 1.27334 14.569C1.42446 14.7045 1.63653 14.8407 1.89457 14.9697C1.75985 13.1584 2.25035 10.7344 3.14632 8.62362C3.62421 7.49778 4.22004 6.46629 4.93001 5.67875ZM13.7463 15.5171C13.2746 15.5176 12.7721 15.5352 12.2509 15.5718C10.3895 15.7022 8.26385 16.0426 6.30579 16.5561C6.9566 17.924 7.91454 19.4068 10.1654 20.6302L10.1719 20.6338L10.1783 20.6375C10.2226 20.6637 10.4944 20.753 10.8611 20.8055C11.2277 20.858 11.7029 20.8953 12.2405 20.9144C13.3158 20.9527 14.6435 20.9202 15.9154 20.8179C17.1874 20.7156 18.4091 20.5409 19.2522 20.3105C19.6738 20.1953 20.0016 20.06 20.1673 19.9499C20.2316 19.9072 20.2483 19.8835 20.2636 19.8654C19.564 18.4554 18.6587 17.3265 17.2069 16.1036L16.8324 15.9235C16.2999 15.6674 15.1615 15.5155 13.7463 15.5171Z" fill="currentColor" fillOpacity="1" />
                </svg>

            ),
            label: "Features",
            href: "#settings"
        },
        {
            icon: (
                <svg width="23" height="23" viewBox="0 0 23 23" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.73878 0.908447V12.2786L5.48878 13.7097V12.5803C4.43391 12.4295 3.37636 12.1757 2.55769 11.322L3.1905 10.7156C3.76003 11.3094 4.55137 11.5248 5.45362 11.6706L4.22606 1.47235C3.4125 1.31743 2.57775 1.14751 1.73878 0.908447ZM20.354 0.909853C17.2988 1.7251 13.8687 0.914635 11.3906 4.22926V14.0173C12.3185 12.6509 13.5207 12.1017 14.7056 11.8362C16.2953 11.4798 17.8078 11.5005 18.9946 10.5413L19.5454 11.2224C18.0803 12.4066 16.3462 12.3654 14.8974 12.6902C13.5242 12.998 12.3672 13.5166 11.5107 15.6521L20.354 12.2786L20.354 0.909853ZM5.07703 1.20282L6.36173 11.8977L6.36455 11.9241V22.0915L7.29923 20.2503L8.25867 22.0388V12.806L6.94045 1.58813L5.07703 1.20282ZM7.91156 2.33954L9.11123 12.5481C9.30694 12.6559 9.49833 12.7806 9.68255 12.926C9.98498 13.1649 10.2644 13.4585 10.5146 13.8152V4.02563C9.7882 3.20649 8.90203 2.69781 7.91156 2.33954ZM0 2.3792V13.6204L0.287109 13.7259L5.48883 15.6375V14.7044L0.876 13.0096V2.3792H0ZM21.2153 2.3806V13.0095L11.0464 16.745L9.13481 16.0433V17.8376C10.2228 18.214 11.8572 18.157 13.1778 17.719V16.8958L21.8042 13.7259L22.0913 13.6204V2.38065L21.2153 2.3806ZM9.13472 13.6087V15.0999L10.4268 15.5935C10.0968 14.6163 9.6503 14.0157 9.14062 13.613C9.13875 13.6116 9.13664 13.6102 9.13472 13.6087Z" fill="currentColor" fillOpacity="1" />
                </svg>

            ),
            label: "FAQ",
            href: "#faq"
        }
    ];

    const handleNavClick = (href: string) => {
        if (href.startsWith('#')) {
            const element = document.getElementById(href.substring(1));
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }
    };

    return (
        <div
            className={`fixed left-4 top-0 bottom-4 z-40 transition-all duration-300 ease-in-out ${isHovered ? 'w-54' : 'w-24'
                }`}
            onMouseEnter={() => setIsHovered(true)}
            onMouseLeave={() => setIsHovered(false)}
        >
            <div className="bg-[#171717c3] backdrop-blur-sm border border-newGreyBorder rounded-2xl p-4 flex flex-col">
                {/* Logo/Brand */}
                <div className="flex items-center mb-8">
                    <svg width="56" height="57" viewBox="0 0 56 57" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g filter="url(#filter0_d_236_36)">
                            <path d="M24.3866 21.4443C24.3866 14.6415 29.548 11.6894 34.0212 12.0257C38.3102 12.3483 44.1808 15.7632 41.3209 26.1248C41.133 26.8058 41.645 27.4556 42.3508 27.2998C42.7083 27.2209 43.0603 27.128 43.3601 27.0392C43.6699 26.9475 44 27.1706 44 27.4865V31.7789C44 32.0539 43.8891 32.3216 43.6447 32.4594C42.8746 32.8934 41.0842 33.4645 37.8881 33.5445C37.4287 33.556 37.0229 33.8409 36.86 34.2595C35.3548 38.1257 31.3697 44.7378 25.4188 44.9908C20.8007 45.187 17.0733 42.2456 14.6238 36.5939C13.0257 32.9066 12.4697 27.5822 12.3432 25.4808C12.0852 21.1921 12.0086 16.5684 12 14.4364C11.9991 14.2197 12.1789 14.044 12.4006 14.044H19.4928C19.7218 14.044 19.9044 14.2291 19.896 14.4528C19.7062 19.4726 20.1412 30.2245 23.3543 36.2449C24.3436 37.8567 27.0392 39.4067 30.1694 33.3756C30.4121 32.9079 30.2355 32.3406 29.8118 32.0177C27.4441 30.213 24.3866 26.2816 24.3866 21.4443ZM35.3976 20.0988C34.847 18.4843 33.5625 18.5291 32.989 18.7534C32.0714 19.0897 30.4426 20.3007 31.2685 22.4535C31.7395 23.6815 32.3076 24.676 32.794 25.3871C33.1909 25.9675 34.0149 25.8681 34.3049 25.2304C35.0492 23.5941 35.8214 21.3416 35.3976 20.0988Z" fill="#D1FD0A" />
                        </g>
                        <defs>
                            <filter id="filter0_d_236_36" x="0" y="0" width="56" height="57" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                                <feFlood floodOpacity="0" result="BackgroundImageFix" />
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                                <feOffset />
                                <feGaussianBlur stdDeviation="6" />
                                <feComposite in2="hardAlpha" operator="out" />
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_236_36" />
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_236_36" result="shape" />
                            </filter>
                        </defs>
                    </svg>

                    {/* </div> */}
                    {isHovered && (
                        <svg width="62" height="25" viewBox="0 0 62 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M12.6375 0C15.1986 3.44181e-06 17.3069 0.855721 18.7767 2.32008C20.0018 3.54059 20.7538 5.15469 20.9695 6.97204C20.9452 5.91013 20.9348 5.00335 20.9324 4.40076C20.9319 4.25891 21.0462 4.14392 21.1873 4.14391H25.6986C25.8443 4.14391 25.9605 4.2651 25.9551 4.41155C25.8344 7.69703 26.1111 14.7342 28.155 18.6745C28.7843 19.7294 30.4991 20.7439 32.4902 16.7965C32.6446 16.4904 32.5323 16.1191 32.2628 15.9078C30.7566 14.7266 28.8117 12.1534 28.8117 8.98745C28.8117 4.535 32.095 2.60283 34.9404 2.82298C37.6687 3.03408 41.4031 5.26916 39.5839 12.0509C39.4644 12.4966 39.79 12.9218 40.239 12.8199C40.4664 12.7682 40.6903 12.7075 40.8811 12.6494C40.9093 12.6408 40.9377 12.6365 40.9658 12.6359V0.85034C40.9658 0.380711 41.3455 0 41.814 0H53.6033C56.1644 3.44181e-06 58.2727 0.855721 59.7425 2.32008C61.2111 3.78316 62 5.81183 62 8.07823C62 10.6203 61.1152 12.7126 59.594 14.1679C58.0767 15.6195 55.9715 16.3945 53.6033 16.3945H47.0725C46.6041 16.3945 46.2243 16.7753 46.2243 17.2449V24.1497C46.2243 24.6193 45.8446 25 45.3762 25H41.814C41.3455 25 40.9658 24.6193 40.9658 24.1497V16.2493C40.4309 16.5249 39.3101 16.8579 37.4002 16.9071C37.108 16.9146 36.8498 17.1011 36.7462 17.3751C35.7887 19.9055 33.2537 24.2331 29.4684 24.3987C26.5307 24.5272 24.1597 22.602 22.6015 18.9029C21.5849 16.4895 21.2312 13.0048 21.1507 11.6294C21.0931 10.6444 21.0499 9.63249 21.0176 8.67347C20.8901 10.9476 20.0289 12.8278 18.6282 14.1679C17.1109 15.6195 15.0057 16.3945 12.6375 16.3945H6.1067C5.63828 16.3945 5.25855 16.7753 5.25855 17.2449V24.1497C5.25855 24.6193 4.87882 25 4.4104 25H0.848153C0.379731 25 1.57103e-08 24.6193 0 24.1497V0.85034C3.16929e-07 0.380711 0.379731 0 0.848153 0H12.6375ZM35.816 8.10688C35.4658 7.05015 34.6486 7.07946 34.2838 7.22623C33.7001 7.4464 32.6641 8.23897 33.1894 9.64796C33.489 10.4517 33.8504 11.1026 34.1598 11.568C34.4123 11.9479 34.9364 11.8828 35.1209 11.4655C35.5943 10.3946 36.0855 8.92028 35.816 8.10688ZM6.1067 4.86396C5.63828 4.86396 5.25855 5.24467 5.25855 5.7143V10.6802C5.25855 11.1499 5.63828 11.5306 6.1067 11.5306H12.4339C13.5459 11.5306 14.3459 11.1205 14.8749 10.5138C15.4134 9.89635 15.7078 9.03156 15.7078 8.07823C15.7078 7.09424 15.3757 6.30047 14.827 5.75383C14.2785 5.20735 13.4692 4.86396 12.4339 4.86396H6.1067ZM47.0725 4.86396C46.6041 4.86396 46.2243 5.24467 46.2243 5.7143V10.6802C46.2243 11.1499 46.6041 11.5306 47.0725 11.5306H53.3997C54.5117 11.5306 55.3117 11.1205 55.8407 10.5138C56.3792 9.89635 56.6736 9.03156 56.6736 8.07823C56.6736 7.09424 56.3415 6.30047 55.7928 5.75383C55.2443 5.20735 54.435 4.86396 53.3997 4.86396H47.0725Z" fill="currentColor" />
                        </svg>

                    )}
                </div>

                {/* Navigation Menu */}
                <nav className="flex-1">
                    <ul className="space-y-2">
                        {menuItems.map((item, index) => (
                            <li key={index}>
                                <button
                                    onClick={() => handleNavClick(item.href)}
                                    className={`w-full flex items-center p-3 rounded-xl transition-all duration-200 hover:bg-newGreyAccent hover:border-btGreen/30 group ${isHovered ? 'justify-start' : 'justify-center'
                                        }`}
                                >
                                    <div className={`transition-colors duration-200 flex-shrink-0 ${isHovered ? 'text-white' : 'text-white/50'
                                        }`}>
                                        {item.icon}
                                    </div>
                                    {isHovered && (
                                        <div
                                            className={`ml-3 overflow-hidden transition-all duration-300 ease-in-out whitespace-nowrap ${isHovered ? 'w-auto opacity-100' : 'w-0 opacity-0'
                                                }`}
                                            style={{
                                                transitionDelay: isHovered ? '150ms' : '0ms'
                                            }}
                                        >
                                            <span className={`text-sm font-medium transition-colors duration-200 'text-white'
                                                }`}>
                                                {item.label}
                                            </span>
                                        </div>
                                    )}
                                </button>
                            </li>
                        ))}
                    </ul>
                </nav>
            </div>
        </div>
    );
}
